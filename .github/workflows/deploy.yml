name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main  # Trigger per il deploy quando c'è un push sul branch 'main'

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      # Checkout del repository
      - name: Checkout repository
        uses: actions/checkout@v2

      # Esegui un passo per preparare il codice (eventualmente per la build)
      - name: Setup Node.js (se necessario)
        uses: actions/setup-node@v3
        with:
          node-version: '16'  # Usa la versione di Node.js che ti serve

      # Se vuoi usare il segreto in un altro contesto, esempio nel backend, lo puoi fare così:
      - name: Print Discord Client Secret (come esempio, non usarlo in produzione)
        run: echo ${{ secrets.DISCORD_CLIENT_SECRET }}

      # Deploy su GitHub Pages
      - name: Deploy to GitHub Pages
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages   # Il branch di destinazione per il deploy (di solito 'gh-pages')
          folder: ./         # La cartella da cui fare il deploy (root del progetto)
          token: ${{ secrets.GITHUB_TOKEN }}  # Usa il token predefinito di GitHub
